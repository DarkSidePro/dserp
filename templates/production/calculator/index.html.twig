{% extends "_partials/body.html.twig" %}
{% block stylesheets %}
    {{ parent() }}
    <link rel='stylesheet' href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css">
    <link rel='stylesheet' href="https://cdn.datatables.net/select/1.3.1/css/select.dataTables.min.css">
    <link rel='stylesheet' href="https://cdn.datatables.net/buttons/1.6.5/css/buttons.dataTables.min.css">
    <link rel='stylesheet' href="https://cdn.datatables.net/select/1.3.1/css/select.dataTables.min.css">
    <style>
        .save button#save_production_generate {
            display: none;
        }
    </style>
{% endblock %}
{% block breadcrumb_link %}
    <li class="breadcrumb-item">
        <a href="{{ path('production') }}" class="breadcrumb-link">Production</a>
    </li>
{% endblock %}
{% block title %}- Products{% endblock %}
{% block content %}
    <div class='col-xl-8 col-lg-8 col-md-8 col-sm-12 col-8'>
        <div class='card'>
            <h5 class='card-header'>Production, product: {{product_name}}, recipe: {{recipe_name}} component list, value: {{value}}</h5>
            <div class='card-body'>
                <div id="presidents">Loading...</div>           
            </div>
        </div>
    </div>
    <div class='col-xl-4 col-lg-4 col-md-4 col-sm-12 col-4'>
        {# 
        <div class='card'>
            <h5 class='card-header'>Update amount of components</h5>
            <div class='card-body'>
                {{ form_start(updateAmountForm) }}
                {{ form_end(updateAmountForm) }}
            </div>
        </div>
        #}
        <div class='card'>
            <h5 class='card-header'>Generate production</h5>
            <div class='card-body'>
                {{ form_start(generateProductionForm) }}
                {{ form_end(generateProductionForm) }}
            </div>
        </div>
        <div class='card'>
            <h5 class='card-header'>Save production</h5>
            <div class='card-body save'>
                {{ form_start(saveProductionForm) }}
                <button type="submit" name="save_production[generate]" class="btn btn-success btn">Save</button>
                {{ form_end(saveProductionForm) }}
            </div>
        </div>
    </div>
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript" src="https://cdn.datatables.net/v/dt/jq-3.2.1/dt-1.10.16/datatables.min.js"></script>  
    <script type="text/javascript" src="{{ asset('bundles/datatables/js/datatables.js') }}"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.5/js/dataTables.buttons.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.5/js/buttons.html5.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.6.5/js/buttons.print.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/select/1.3.1/js/dataTables.select.min.js"></script>
    <script>
        $(function() {
            $('#presidents').initDataTables({{ datatable_settings(datatable) }}, {
                select: true,
                searching: true,
                dom: 'lBfrtip',
                buttons: {
                    buttons: [
                        { extend: 'copy', className: 'btn btn-transparent' },
                        { extend: 'csv', className: 'btn btn-transparent'},
                        { extend: 'excel', className: 'btn btn-transparent'},
                        { extend: 'pdf', className: 'btn btn-transparent'},
                        { extend: 'print', className: 'btn btn-transparent'},
                    ]
                },
            });            
        });
    </script> 
{% endblock %}